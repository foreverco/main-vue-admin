<template>
  <div style="height:100%;position:relative;">
    <!-- {{ sensorData.aa }} -->
    <BaseTitle moduleTitle="地图展示" style="margin:1vw 0" />
    <ul class="swichButton">
      <li
        v-for="(item, index) in swichButtonList"
        @click="changeShowWay(index)"
        :key="index"
        :class="showWay == index ? 'active' : ''"
      >
        <i class="iconfont" :class="item.iconName"></i>
        {{ item.name }}
      </li>
    </ul>
    <Map v-if="showWay == 0" ref="map" :modify="modify" />
    <div v-if="showWay == 1">
      <MapShowList />
    </div>
  </div>
</template>
<script>
import BaseTitle from "../../../components/common/BaseTitle.vue";
// import SensorPicker from "../../../components/SensorPicker/index";
// import Map from "./components/MapDrawer.vue";
import Map from "../../../components/mapView/MapInfo";
import MapShowList from "./components/MapShowList.vue";
export default {
  components: {
    BaseTitle,
    // SensorPicker,
    Map,
    MapShowList
  },
  data() {
    return {
      showWay: 0,
      modify: "",
      swichButtonList: [
        { name: "地图", iconName: "iconditu" },
        { name: "列表", iconName: "icondizhi" }
      ]
      // sensorData: {}
    };
  },
  mounted() {
    // setTimeout(() => {
    //   console.log(this.$store.state.map.deveiceAreaList);
    // }, 1000);
    // console.log(this.$refs["map"].map);
    // console.log(this.$refs["draw"].shapeType);
  },
  methods: {
    // 地图/列表展示
    changeShowWay(val) {
      console.log(val);
      this.showWay = val;
    },
    updateSensorData(data) {
      alert("111");
      console.log(data);
    }
  }
};
</script>
<style lang="scss" scoped>
@import "@/styles/reset.scss";
@import "@/styles/main.scss";
.swichButton {
  width: rem(125);
  height: rem(31);
  background: #cccccc;
  border-radius: rem(6);
  color: #fff;
  display: flex;
  position: absolute;
  top: 0;
  right: 0;
  z-index: 1001;
  li {
    // border: 1px solid red;
    width: 100%;
    font-size: rem(12);
    // line-height: 31px;
    display: flex;
    align-items: center;
    justify-content: center;
    &:hover {
      cursor: pointer;
    }
    i {
      font-size: rem(12);
      margin-right: rem(4);
    }
  }
}
.active {
  background: $navcolor;
  border-radius: rem(6);
}
</style>
