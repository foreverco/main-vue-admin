<template>
  <ul class="layout_card">
    <li
      class="equi_card"
      v-for="(item, index) in equipmentCase"
      :key="index"
      :class="ChangeBgImg(item.type)"
    >
      <p class="type">{{ item.type }}</p>
      <div class="context">
        <div class="left">
          <i class="iconfont" :class="ChangeIcon(item.type)"></i>
          <el-progress type="circle" :percentage="25"> </el-progress>
        </div>
        <div class="right">
          <p class="total_deveice">总设备：{{ item.count }}</p>
          <p class="online">在线：{{ item.count }}</p>
        </div>
      </div>
    </li>
  </ul>
</template>

<script>
import { reactive } from "@vue/composition-api";
export default {
  setup(props) {
    let equipmentCase = reactive([
      {
        type: "监控设备",
        count: 156,
        online: 146
      },
      {
        type: "土壤监测设备",
        count: 156,
        online: 146
      },
      {
        type: "空气监测设备",
        count: 156,
        online: 146
      },
      {
        type: "虫情监测设备",
        count: 156,
        online: 146
      },
      {
        type: "植物监测设备",
        count: 156,
        online: 146
      }
    ]);
    const ChangeBgImg = type => {
      if (type === "监控设备") {
        return "jiankong";
      } else if (type === "土壤监测设备") {
        return "turang";
      } else if (type === "空气监测设备") {
        return "kongqi";
      } else if (type === "虫情监测设备") {
        return "chongqing";
      } else if (type === "植物监测设备") {
        return "zhiwu";
      }
    };
    const ChangeIcon = type => {
      if (type === "监控设备") {
        return "iconjiankong";
      } else if (type === "土壤监测设备") {
        return "iconturanghuanjing";
      } else if (type === "空气监测设备") {
        return "iconkongqi";
      } else if (type === "虫情监测设备") {
        return "iconchongqingjiance-jian";
      } else if (type === "植物监测设备") {
        return "iconzhiwu";
      }
    };
    return {
      equipmentCase,
      ChangeBgImg,
      ChangeIcon
    };
  }
};
</script>

<style lang="scss" scoped>
@import "@/styles/reset.scss";
.layout_card {
  display: flex;
  justify-content: space-between;
  .equi_card {
    width: rem(228);
    height: rem(126);
    .type {
      text-align: left;
      margin-top: rem(11);
      margin-left: rem(17);
      color: #fff;
      font-size: rem(15);
    }
    .context {
      // border: 1px solid red;
      display: flex;
      margin: rem(12) rem(19) rem(21) rem(20);
    }
    .left {
      position: relative;
      // border: 1px solid blue;
      i {
        position: absolute;
        width: 100%;
        top: rem(11);
        color: #fff;
        // border: 1px solid red;
        z-index: 1;
      }
      .iconjiankong {
        font-size: rem(15);
      }
      .iconturanghuanjing {
        font-size: rem(19);
      }
      .iconkongqi {
        font-size: rem(23);
        top: rem(9);
      }
      .iconchongqingjiance-jian {
        font-size: rem(23);
        top: rem(9);
      }
      .iconzhiwu {
        font-size: rem(28);
        top: rem(6);
      }
    }
    .right {
      width: rem(120);
      margin-top: rem(9);
      text-align: center;
      // border: 1px solid blue;
      .total_deveice {
        font-size: rem(14);
        color: rgba(255, 255, 255, 1);
      }
      .online {
        font-size: rem(18);
        color: rgba(230, 183, 87, 1);
        margin-top: rem(9);
        font-weight: 400;
      }
    }
  }
}
.left ::v-deep .el-progress-circle {
  width: rem(62.4) !important;
  height: rem(66.3) !important;
}
.left ::v-deep .el-progress__text {
  margin-top: rem(12);
  font-size: rem(12) !important;
  color: #fff;
}

.left ::v-deep .el-progress-circle__track {
  stroke: rgba(255, 255, 255, 1);
}
.left ::v-deep .el-progress-circle__path {
  stroke: rgba(255, 255, 255, 0.548);
}

.jiankong {
  background: url(../../../assets/mainpage/monitor.png) no-repeat;
  background-size: 100% 100%;
}

.turang {
  background: url(../../../assets/mainpage/turang.png) no-repeat;
  background-size: 100% 100%;
}

.kongqi {
  background: url(../../../assets/mainpage/air.png) no-repeat;
  background-size: 100% 100%;
}

.chongqing {
  background: url(../../../assets/mainpage/insect.png) no-repeat;
  background-size: 100% 100%;
}
.zhiwu {
  background: url(../../../assets/mainpage/zhiwu.png) no-repeat;
  background-size: 100% 100%;
}
</style>
